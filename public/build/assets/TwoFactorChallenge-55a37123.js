import{b as v,T as j,r as l,d as c,a as e,u as s,f as t,w as a,F as i,i as I,o as n,Z as N,j as R,h as d,k as x,n as f,t as U,q as A}from"./app-d605a113.js";import{_ as L}from"./logo-light-5db129d6.js";import{_ as b}from"./InputError-3cfd8743.js";import{_ as w}from"./InputLabel-07020cc8.js";import{_ as B}from"./TextInput-9e276667.js";const P={class:"auth-page-wrapper pt-5"},S=I('<div class="auth-one-bg-position auth-one-bg" id="auth-particles"><div class="bg-overlay"></div><div class="shape"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1440 120"><path d="M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"></path></svg></div></div>',1),$={class:"auth-page-content"},z={class:"text-center mt-sm-5 mb-4 text-white-50"},D=t("img",{src:L,alt:"",height:"100"},null,-1),E=t("div",{class:"mb-4"},[t("div",{class:"avatar-lg mx-auto"},[t("div",{class:"avatar-title bg-light text-primary display-5 rounded-circle"},[t("i",{class:"ri-rotate-lock-line"})])])],-1),M={class:"p-2 mt-4"},q={class:"text-muted text-center mb-4 mx-lg-3"},G=t("h4",{class:""},"Two Factor Authentication",-1),W={class:"text-sm text-muted"},Y={key:0},Z={key:1},H={class:"d-flex align-items-center justify-content-end mt-4"},J={class:"footer"},K={class:"text-center"},O={class:"mb-0 text-muted"},ce={__name:"TwoFactorChallenge",setup(Q){const r=v(!1),o=j({code:"",recovery_code:""}),y=v(null),h=v(null),C=async()=>{r.value^=!0,await A(),r.value?(y.value.focus(),o.code=""):(h.value.focus(),o.recovery_code="")},k=()=>{o.post(route("two-factor.login"))};return(X,u)=>{const _=l("BCol"),m=l("BRow"),V=l("BButton"),F=l("BCardBody"),T=l("BCard"),g=l("BContainer");return n(),c(i,null,[e(s(N),{title:"Two Factor Authentication"}),t("div",P,[S,t("div",$,[e(g,null,{default:a(()=>[e(m,null,{default:a(()=>[e(_,{lg:"12"},{default:a(()=>[t("div",z,[t("div",null,[e(s(R),{href:"/",class:"d-inline-block auth-logo"},{default:a(()=>[D]),_:1})])])]),_:1})]),_:1}),e(m,{class:"justify-content-center"},{default:a(()=>[e(_,{md:"8",lg:"6",xl:"5"},{default:a(()=>[e(T,{"no-body":"",class:"mt-4"},{default:a(()=>[e(F,{class:"p-4"},{default:a(()=>[E,t("div",M,[t("div",q,[G,t("div",W,[r.value?(n(),c(i,{key:1},[d(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(n(),c(i,{key:0},[d(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))])]),t("form",{onSubmit:x(k,["prevent"])},[r.value?(n(),c("div",Z,[e(w,{for:"recovery_code",value:"Recovery Code"}),e(B,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:y,modelValue:s(o).recovery_code,"onUpdate:modelValue":u[1]||(u[1]=p=>s(o).recovery_code=p),type:"text",autocomplete:"one-time-code",class:f({"is-invalid":s(o).errors.recovery_code})},null,8,["modelValue","class"]),e(b,{class:"mt-2",message:s(o).errors.recovery_code},null,8,["message"])])):(n(),c("div",Y,[e(w,{for:"code",value:"Code"}),e(B,{id:"code",ref_key:"codeInput",ref:h,modelValue:s(o).code,"onUpdate:modelValue":u[0]||(u[0]=p=>s(o).code=p),type:"text",inputmode:"numeric",autofocus:"",placeholder:"Enter the code that you recieve your authenticator app",autocomplete:"one-time-code",class:f({"is-invalid":s(o).errors.code})},null,8,["modelValue","class"]),e(b,{class:"mt-2",message:s(o).errors.code},null,8,["message"])])),t("div",H,[t("button",{type:"button",class:"btn btn-primary me-1",onClick:x(C,["prevent"])},[r.value?(n(),c(i,{key:1},[d(" Use an authentication code ")],64)):(n(),c(i,{key:0},[d(" Use a recovery code ")],64))]),e(V,{variant:"success",type:"submit",class:f({"opacity-25":s(o).processing}),disabled:s(o).processing},{default:a(()=>[d("Log in")]),_:1},8,["class","disabled"])])],32)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),t("footer",J,[e(g,null,{default:a(()=>[e(m,null,{default:a(()=>[e(_,{lg:"12"},{default:a(()=>[t("div",K,[t("p",O,"Â© "+U(new Date().getFullYear())+" Allfliptix. Project Web by Ghale",1)])]),_:1})]),_:1})]),_:1})])])],64)}}};export{ce as default};
