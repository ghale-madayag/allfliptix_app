import{L as h}from"./mermaid-cf784c66.js";import x from"./widget-bfa1cad8.js";import{b as w,D as B,z as I,r as d,c as C,w as i,j as k,Z as b,q as T,o as D,a as o,u as $,f as t,t as r,h as m}from"./app-d605a113.js";import{L as g}from"./main-e76f3548.js";import{P}from"./page-header-6fddfeb2.js";import{C as S}from"./flatpickr-a4960791.js";import"./vue3-count-to.esm-51a1e9d2.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logo-light-5db129d6.js";const j="/build/assets/login-bg-f3da318f.webp",H=t("div",{class:"profile-foreground position-relative mx-n4 mt-n4"},[t("div",{class:"profile-wid-bg"},[t("img",{src:j,alt:"",class:"profile-wid-img"})])],-1),L={class:"pt-4 mb-4 mb-lg-3 pb-lg-4 profile-wrapper"},O={class:"p-2"},R={class:"text-white mb-1"},A={class:"text-white text-opacity-75"},F={class:"hstack text-white-50 gap-1"},M=t("i",{class:"ri-building-line me-1 text-white text-opacity-75 fs-16 align-middle"},null,-1),N={class:"me-2"},V=t("i",{class:"ri-map-pin-user-line me-1 text-white text-opacity-75 fs-16 align-middle"},null,-1),q={class:"d-flex profile-wrapper"},U={class:"d-flex justify-content-end"},Q=["href"],W=t("i",{class:"ri-links-line align-bottom"},null,-1),z=t("div",{class:"d-flex align-items-center"},[t("h5",{class:"card-title mb-0 flex-grow-1"},"Sold Inventory")],-1),E=t("div",{class:"table-responsive table-card mb-4",id:"grid-table"},null,-1),G={components:{Layout:g,PageHeader:P,Link:k,Head:b,flatPickr:S}},at=Object.assign(G,{__name:"sold_inventory",props:{sold_inventory:Object,event_details:Object,inventory:Object},setup(s){const a=s,v=[{id:1,label:"Quantity",badge:"",icon:"ri-coupon-3-line",counter:a.inventory.qty,decimals:0,suffix:"",prefix:""},{id:2,label:"Total",badge:"",icon:"ri-exchange-dollar-line",counter:parseFloat(a.inventory.total),decimals:2,suffix:"",prefix:"$"},{id:3,label:"Profit",badge:"",icon:"ri-money-dollar-box-line",counter:parseFloat(a.inventory.total_profit),decimals:2,suffix:"",prefix:"$"},{id:4,label:"Profit Margin",badge:"",icon:"ri-pulse-line",counter:parseFloat(a.inventory.profit),decimals:2,suffix:"%",prefix:""},{id:5,label:"Return of Investment",badge:"",icon:"ri-money-dollar-circle-line",counter:a.inventory.roi,decimals:2,prefix:"",separator:".",suffix:"%"}],c=w(null),u=()=>{c.value&&c.value.destroy(),T(()=>{var n,l;const _=Array.isArray((n=a.sold_inventory)==null?void 0:n.rows)?a.sold_inventory.rows:[],p=((l=a.sold_inventory)==null?void 0:l.soldInventoryTotals)||{};c.value=new h({columns:[{name:"Invoice ID",hidden:!1},{name:"Invoice Date",width:"180px",formatter:e=>{if(!e)return"N/A";const f=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(f)}},"Qty","In-Hand Date","Unit Cost","Total Cost","Total","Unit Ticket Sales","Profit","%Profi Margin","%ROI"],data:_.map(e=>[e.invoiceId,e.invoiceDate,e.quantity,e.inHandDate,"$"+e.unitCostAverage,"$"+e.cost,"$"+e.total,"$"+e.unitTicketSales,"$"+e.profit,e.profitMargin||0,p.totalROI||0,e.roi]),pagination:{limit:100},search:!1,sort:!0,theme:"mermaid"}).render(document.getElementById("grid-table"))})};return B(()=>{u()}),I(()=>a.sold_inventory,()=>{u()},{deep:!0}),(_,p)=>{const n=d("BCol"),l=d("BRow"),e=d("BCardHeader"),f=d("BCardBody"),y=d("BCard");return D(),C(g,null,{default:i(()=>[o($(b),{title:"Sold Inventory"}),H,t("div",L,[o(l,{class:"g-12"},{default:i(()=>[o(n,null,{default:i(()=>[t("div",O,[t("h3",R,r(s.event_details.name),1),t("p",A,r(s.event_details.date),1),t("div",F,[t("div",null,[M,m(r(s.event_details.venue),1)]),t("div",N,[V,m(r(s.event_details.city)+", "+r(s.event_details.state)+", "+r(s.event_details.country),1)])])])]),_:1}),o(n,{cols:"12",lg:"auto","order-lg":"0",class:"order-last"},{default:i(()=>[o(l,{class:"text text-white-50 text-center"},{default:i(()=>[t("div",q,[t("div",U,[t("a",{target:"_blank",href:"https://skybox.vividseats.com/inventory/sold?eventId="+s.event_details.id,class:"btn btn-success"},[W,m(" Skybox Vividseats")],8,Q)])])]),_:1})]),_:1})]),_:1})]),o(l,null,{default:i(()=>[o(n,{xl:"12"},{default:i(()=>[o(x,{crmWidgets:v})]),_:1})]),_:1}),o(l,null,{default:i(()=>[o(n,{lg:"12"},{default:i(()=>[o(y,{"no-body":"",id:"ticketsList"},{default:i(()=>[o(e,{class:"border-0 rounded-0"},{default:i(()=>[z]),_:1}),o(f,{class:"border border-dashed border-end-0 border-start-0"},{default:i(()=>[E]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{at as default};
